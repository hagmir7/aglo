{% extends 'dash.html' %}
{% load static %}
{% load i18n %}


{% block content %}
<section class="section dashboard">
  <div class="row">

    <!-- Left side columns -->
    <div class="col-lg-12">
      <div class="row">

        <!-- Sales Card -->
        <div class="col-xxl-3 col-md-6">
          <div class="card info-card sales-card">
            <div class="card-body">
              <h5 class="card-title">Today <span>| Orders </span></h5>
              <div class="d-flex align-items-center">
                <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                  <i class="bi bi-cart"></i>
                </div>
                <div class="ps-3">
                  <h6>{{today_oders.count}}</h6>
                </div>
              </div>
            </div>

          </div>
        </div><!-- End Sales Card -->

        <!-- Revenue Card -->
        <div class="col-xxl-3 col-md-6">
          <div class="card info-card revenue-card">

            <div class="card-body">
              <h5 class="card-title">This Month <span>| Orders</span></h5>

              <div class="d-flex align-items-center">
                <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                  <i class="bi bi-currency-dollar"></i>
                </div>
                <div class="ps-3">
                  <h6>{{month_orders.count}}</h6>
                </div>
              </div>
            </div>

          </div>
        </div><!-- End Revenue Card -->

        <div class="col-xxl-3 col-xl-12">
        
          <div class="card info-card customers-card">
            <div class="card-body">
              <h5 class="card-title">Customers</h5>
        
              <div class="d-flex align-items-center">
                <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                  <i class="bi bi-people"></i>
                </div>
                <div class="ps-3">
                  <h6>{{users.count}}</h6>       
                </div>
              </div>
        
            </div>
          </div>
        
        </div>
        <!-- Customers Card -->
        <div class="col-xxl-3 col-xl-12">
        
          <div class="card info-card product-card">
            <div class="card-body">
              <h5 class="card-title">Products</h5>
        
              <div class="d-flex align-items-center">
                <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                  <i class="bi bi-menu-button-wide"></i>
                </div>
                <div class="ps-3">
                  <h6>{{products.count}}</h6>
                </div>
              </div>
        
            </div>
          </div>
        
        </div>
        
        <!-- End Customers Card -->
        <div class="col-lg-12">
          <div class="card">
              <div class="card-body">
                  <h5 class="card-title">New Orders ({{orders.count}})</h5>
                  <!-- Table with stripped rows -->
                  <div class="datatable-wrapper datatable-loading no-footer sortable searchable fixed-columns">
                      <div class="datatable-container card top-selling overflow-auto">
                          <table class="table datatable datatable-table">
                              <thead>
                                  <tr>
                                      <th data-sortable="true">#</th>
                                      <th data-sortable="true">Customer</th>
                                      <th data-sortable="true">Auth</th>
                                      <th data-sortable="true">Date</th>
                                      <th data-sortable="true">Confirmed</th>
                                      <th data-sortable="true">Action</th>
                                  </tr>
                              </thead>
                              <tbody>
                                  {% for order in  orders %}
                                  
                                  <tr data-index="0">
                                    <td>{{order.id}}</td>
                                    <td>{{order.full_name}}</td>
                                    {% if order.user %}
                                    <td class="text-success">Yes</td>
                                    {% else %}
                                    <td class="text-danger">NO</td>
                                    {% endif %}
                                    <td>{{order.created}}</td>
                                    <td>
                                        <i class="bx bxs-time-five text-primary"></i>
                                     </td>
                                    <td>
                                        <a class="btn btn-sm btn-danger btn-sm" href="/order/cancel?cancel={{order.id}}" onclick="return confirm('Are you sure you want to cancel Product')">
                                            Cancel
                                        </a>
                                        <a class="btn btn-sm btn-info btn-sm" href="/order/{{order.id}}">
                                            View
                                        </a>
                                        <a class="btn btn-sm btn-success btn-sm" href="/order/confirm?confirm={{order.id}}">
                                            Confirm
                                        </a>
                                    </td>
                                </tr>
                                  {% endfor %}
                              </tbody>
                          </table>
                          <div class="pagination mb-3 d-flex justify-content-center">
                              <span class="step-links">
                                  
                          
                                  
                              </span>
                          </div>
                      </div>
                      
                  </div>
                  <!-- End Table with stripped rows -->

              </div>
          </div>

      </div>
      </div>
    </div><!-- End Left side columns -->
  </div>
</section>

{% endblock content %}